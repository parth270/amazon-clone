(this["webpackJsonpamazon-clone"]=this["webpackJsonpamazon-clone"]||[]).push([[0],{10:function(e,t,a){e.exports={container:"order-basket_container__tjcbl",img:"order-basket_img__4NVbB",info:"order-basket_info__3TnTs",star:"order-basket_star__2qmhx",button:"order-basket_button__H5nKP",load:"order-basket_load__3u-si"}},12:function(e,t,a){e.exports={"big-container":"Login_big-container__rpXDf",header:"Login_header__uqTnW",container:"Login_container__3DP8g",input:"Login_input__2Fp0y",valid:"Login_valid__1LxBh",Invalid:"Login_Invalid__2hYHk",login:"Login_login__2_1Yx",register:"Login_register__mjkmd","error-text":"Login_error-text__30rPG"}},13:function(e,t,a){e.exports={"payment-container":"Checkout_payment-container__1Y-b0",payment:"Checkout_payment__20Qfb","payment-section":"Checkout_payment-section__2JdsL","payment-title":"Checkout_payment-title__19cVB","items-title":"Checkout_items-title__2RPVd","payment-address":"Checkout_payment-address__37iRW","payment-items":"Checkout_payment-items__FaFcV","payment-details":"Checkout_payment-details__2nTWm","payment-price-container":"Checkout_payment-price-container__36evg","checkout-button":"Checkout_checkout-button__1R1T1"}},20:function(e,t,a){e.exports={ad:"Basket_ad__3xn2L","big-container":"Basket_big-container__3bHZw",container:"Basket_container__1JN_8","shopping-basket":"Basket_shopping-basket__2FlNk","left-container":"Basket_left-container__2CS4c",products:"Basket_products__1Q6LY","right-container":"Basket_right-container__3_K8z"}},26:function(e,t,a){e.exports={"home-image":"Home_home-image__3n2_D",home:"Home_home__1P91h","first-row":"Home_first-row__1V36v","second-row":"Home_second-row__1CuPZ","third-row":"Home_third-row__20DtN"}},27:function(e,t,a){e.exports={container:"Product_container__ysj9I","product-image":"Product_product-image__D5VIH",rating:"Product_rating__2-DDJ",price:"Product_price__3hZcj",info:"Product_info__bCEmU",para:"Product_para__2pdnz"}},31:function(e,t,a){e.exports={container:"Subtotal_container__1xmYP",input:"Subtotal_input__Au5jS",button:"Subtotal_button__3s_Wu",disabled:"Subtotal_disabled__39jNs"}},36:function(e,t,a){e.exports={orders:"Order_orders__3X9nx"}},4:function(e,t,a){e.exports={nav:"Header_nav__3PUfL","amazon-logo":"Header_amazon-logo__1cs9e","header-nav":"Header_header-nav__3R8G_",search:"Header_search__ZQ4Xv","search-icon":"Header_search-icon__baWCe",up:"Header_up__17xMs",down:"Header_down__2MbIj",basket:"Header_basket__28XSw","item-quantity":"Header_item-quantity__20wZR","error-container":"Header_error-container__29xV-","sign-out":"Header_sign-out__dBBP1",cancel:"Header_cancel__eh9--","button-container":"Header_button-container__1fW9s"}},63:function(e,t,a){},7:function(e,t,a){e.exports={container:"Shopping_container__3S_zc",img:"Shopping_img__3PQKW",info:"Shopping_info__1mOwQ",star:"Shopping_star__2D5SX",button:"Shopping_button__19jT7",load:"Shopping_load__3A3zC"}},90:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),c=a(5),r=a(22),i=a.n(r),o=(a(63),a(6)),l=a(4),d=a.n(l),j=a(49),m=a.n(j),u=a(50),b=a.n(u),h=a(3),p=a(29),O=Object(p.b)({name:"auth",initialState:{signStatus:!1,id:"",userName:""},reducers:{loginHandler:function(e,t){e.id=t.payload.token,e.signStatus=!0,e.userName=t.payload.username},logoutHandler:function(e){e.signStatus=!1,e.id=""}}}),x=O.actions,g=O,_=a(0),f=function(e){var t=Object(_.jsx)("div",{className:"backdrop",children:e.children});return Object(_.jsx)(s.a.Fragment,{children:i.a.createPortal(t,document.getElementById("backdrop-root"))})},N=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1],i=Object(h.f)(),l=Object(c.c)((function(e){return e.item.totalQuantity})),j=localStorage.getItem("email"),u=localStorage.getItem("status"),p=Object(c.b)();return Object(_.jsxs)(s.a.Fragment,{children:[a&&Object(_.jsx)(f,{children:Object(_.jsxs)("div",{className:d.a["error-container"],children:[Object(_.jsx)("h2",{children:"sign out?"}),Object(_.jsxs)("div",{className:d.a["button-container"],children:[Object(_.jsx)("button",{className:d.a["sign-out"],onClick:function(){localStorage.clear(),fetch("https://clone-8e97f-default-rtdb.firebaseio.com/orders.json",{method:"DELETE"}),fetch("https://clone-8e97f-default-rtdb.firebaseio.com/total.json",{method:"DELETE"}),p(x.logoutHandler()),r(!1),i.go()},children:"Yes"}),Object(_.jsx)("button",{className:d.a.cancel,onClick:function(){r(!1)},children:"no"})]})]})}),Object(_.jsx)("nav",{className:d.a.nav,children:Object(_.jsxs)("ul",{children:[Object(_.jsx)("li",{className:d.a["amazon-logo"],onClick:function(){i.replace("/")},children:Object(_.jsx)("img",{src:"http://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:""})}),Object(_.jsxs)("li",{className:d.a.search,children:[Object(_.jsx)("input",{type:"search",name:"",id:""}),Object(_.jsx)(m.a,{className:d.a["search-icon"]})]}),Object(_.jsxs)("li",{className:d.a["header-nav"],children:[Object(_.jsxs)("div",{className:d.a["sign-in"],onClick:function(){u?r(!0):i.replace("/login")},children:[Object(_.jsx)("span",{className:d.a.up,children:"Hello"}),Object(_.jsx)("span",{className:d.a.down,children:u?j:"Sign in"})]}),Object(_.jsxs)("div",{className:d.a.returns,onClick:i.replace("/orders"),children:[Object(_.jsx)("span",{className:d.a.up,children:"Returns"}),Object(_.jsx)("span",{className:d.a.down,children:"& Orders"})]}),Object(_.jsxs)("div",{className:d.a["your-prime"],children:[Object(_.jsx)("span",{className:d.a.up,children:"Your"}),Object(_.jsx)("span",{className:d.a.down,children:"Prime"})]}),Object(_.jsxs)("div",{className:d.a.basket,onClick:function(){u?i.replace("/basket"):i.replace("/login")},children:[Object(_.jsx)(b.a,{}),Object(_.jsx)("span",{className:d.a["item-quantity"],children:l})]})]})]})})]})},v=a(26),y=a.n(v),k=a(8),S=a.n(k),w=a(16),C=a(27),P=a.n(C),H=Object(p.b)({name:"item",initialState:{items:[],totalPrice:0,totalQuantity:0},reducers:{addHandler:function(e,t){var a=t.payload,n=e.items.find((function(e){return e.id===a.id}));!n&&a.amount&&(e.items.push({title:a.title,amount:a.amount,image:a.image,star:a.star,quantity:a.quantity,id:a.id}),e.totalPrice+=a.amount,e.totalQuantity++),n&&(e.totalQuantity++,n.quantity++,e.totalPrice+=n.amount)},removeHandler:function(e,t){var a=t.payload.id,n=t.payload.amount,s=t.payload.quantity,c=e.items.find((function(e){return e.id===a}));if(e.totalPrice-=n,e.totalQuantity--,1===s){var r=e.items.filter((function(e){return e.id!==a}));e.items=r}else c.quantity-=1},clearHandler:function(e){({items:[],totalPrice:0,totalQuantity:0})}}}),E=H.actions,A=H,L=function(e){var t,a=e.data,n=a.para,s=a.amount,r=a.star,i=a.image,o=a.style,l=a.id,d=Object(c.b)(),j=function(){var e=Object(w.a)(S.a.mark((function e(){var t,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://clone-8e97f-default-rtdb.firebaseio.com/items/".concat(l,".json"),{method:"POST",body:JSON.stringify({title:n,amount:+s,star:r,image:i,quantity:1,id:l}),headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,c={title:n,amount:+s,star:r,image:i,quantity:1,id:l,name:a.name},d(E.addHandler(c));case 7:case"end":return e.stop()}var c}),e)})));return function(){return e.apply(this,arguments)}}(),m=Object(_.jsx)("p",{children:"\u2b50"});return"1"===o&&(t="650px"),"2"===o&&(t="450px"),Object(_.jsxs)("div",{className:P.a.container,style:o?{maxWidth:t}:{},children:[Object(_.jsxs)("div",{className:P.a.info,children:[Object(_.jsx)("p",{className:P.a.para,children:n}),Object(_.jsxs)("strong",{className:P.a.price,children:[s,"$"]}),Object(_.jsx)("div",{className:P.a.rating,children:Array(r).fill().map((function(e,t){return m}))})]}),Object(_.jsx)("img",{className:P.a["product-image"],src:i,alt:""}),Object(_.jsx)("button",{onClick:j,children:"Add to basket"})]})},I=[{para:"The Lean Startup: How Constant Innovation Creates Radically Succesful Businesses paperback",amount:"19.99",star:5,image:"https://images-na.ssl-images-amazon.com/images/I/81-QB7nDh4L.jpg",id:1,style:"1"},{para:"Kenwood kMix Stand Mixer for Baking, Stylish Kitchen Mixer with k-beater, Dough Hook and Whisk, 5 Litre Glass Bowl",amount:"239.99",star:4,image:"https://images-na.ssl-images-amazon.com/images/I/51ae8jtSakL._SX425_.jpg",id:2,style:"1"},{para:"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor",amount:"190.99",star:3,image:"https://images-na.ssl-images-amazon.com/images/I/71YXi8AAJeL._SL1500_.jpg",id:3,style:"2"},{para:"Amazon Echo (3rd generation) Smart speaker with Alexa, Charcoal Fabric",amount:"99.99",star:4,image:"https://www.mytrendyphone.eu/images/Amazon-Echo-Dot-3-Smart-Speaker-with-Alexa-and-Alarm-Clock-Black-0841667160306-17112020-01-p.jpg",id:4,style:"2"},{para:"New Apple iPad pro (12.9-inch,Wi-Fi, 128gb) -Silver (4th Generation) ",amount:"598.99",star:4,image:"https://www.apple.com/newsroom/images/tile-images/Apple_new-ipad-pro_03182020.jpg.landing-big_2x.jpg",id:5,style:"2"},{para:"Smasung Lc45866S15852S58 49' LED Gaming Monitor - Super Ultra Mode Dual WQHD 5120 x 1440",amount:"1094.99",star:4,image:"https://images.samsung.com/is/image/samsung/my-c49hg90-lc49hg90dmexxm-frontblack-78391809?$LazyLoad_Home_IMG$",id:6,style:""}],F=function(e){return Object(_.jsx)("div",{className:y.a.home,children:Object(_.jsxs)("div",{className:y.a["home-container"],children:[Object(_.jsx)("img",{className:y.a["home-image"],src:"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220-.jpg",alt:""}),Object(_.jsxs)("div",{className:y.a["first-row"],children:[Object(_.jsx)(L,{data:I[0],refresh:e.refresh}),Object(_.jsx)(L,{data:I[1],refresh:e.refresh})]}),Object(_.jsxs)("div",{className:y.a["second-row"],children:[Object(_.jsx)(L,{data:I[2],refresh:e.refresh}),Object(_.jsx)(L,{data:I[3],refresh:e.refresh}),Object(_.jsx)(L,{data:I[4],refresh:e.refresh})]}),Object(_.jsx)("div",{className:y.a["third-row"],children:Object(_.jsx)(L,{data:I[5],refresh:e.refresh})})]})})},T=a(20),D=a.n(T),q=a(31),B=a.n(q),z=function(e){var t=Object(h.f)(),a=Object(c.c)((function(e){return e.item})),n=a.totalPrice.toFixed(2),s=a.totalQuantity;return Object(_.jsxs)("form",{className:B.a.container,children:[Object(_.jsxs)("p",{children:["Subtotal (",s," items):",Object(_.jsxs)("strong",{children:["$",n]})," "]}),Object(_.jsxs)("p",{className:B.a.input,children:[" ",Object(_.jsx)("input",{type:"checkbox"})," This order contains a gift "]}),Object(_.jsx)("button",{className:e.status?B.a.button:B.a.disabled,onClick:function(a){a.preventDefault(),e.status&&(console.log("proceeded"),t.push("/basket/checkout"))},children:"Proceed to Checkout"})]})},W=a(7),G=a.n(W),J=function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),s=a[0],r=a[1],i=e.amount,l=e.image,d=e.quantity,j=e.star,m=e.title,u=e.id,b=Object(c.b)(),h=function(){var e=Object(w.a)(S.a.mark((function e(){var t,a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,fetch("https://clone-8e97f-default-rtdb.firebaseio.com/items/".concat(u,".json"));case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,n=Object.keys(a),console.log(n),fetch("https://clone-8e97f-default-rtdb.firebaseio.com/items/".concat(u,"/").concat(n[1],".json"),{method:"DELETE"}),b(E.removeHandler({id:u,amount:i,quantity:d})),r(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=Object(_.jsx)("p",{className:G.a.star,children:"\u2b50"});return 3===j?p=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("p",{className:G.a.star,children:"\u2b50"}),Object(_.jsx)("p",{className:G.a.star,children:"\u2b50"}),Object(_.jsx)("p",{className:G.a.star,children:"\u2b50"})]}):4===j?p=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("p",{className:G.a.star,children:"\u2b50"}),Object(_.jsx)("p",{className:G.a.star,children:"\u2b50"}),Object(_.jsx)("p",{className:G.a.star,children:"\u2b50"}),Object(_.jsx)("p",{className:G.a.star,children:"\u2b50"})]}):5===j&&(p=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("p",{className:G.a.star,children:"\u2b50"}),Object(_.jsx)("p",{className:G.a.star,children:"\u2b50"}),Object(_.jsx)("p",{className:G.a.star,children:"\u2b50"}),Object(_.jsx)("p",{className:G.a.star,children:"\u2b50"}),Object(_.jsx)("p",{className:G.a.star,children:"\u2b50"})]})),Object(_.jsxs)("div",{className:G.a.container,children:[Object(_.jsx)("div",{className:G.a.img,children:Object(_.jsx)("img",{src:l,alt:""})}),Object(_.jsxs)("div",{className:G.a.info,children:[Object(_.jsx)("strong",{children:m}),Object(_.jsxs)("p",{children:[i,"$"]}),Object(_.jsx)("div",{className:G.a.star,children:p}),Object(_.jsxs)("strong",{children:["x",d]}),!s&&Object(_.jsx)("button",{className:G.a.button,onClick:h,children:"Remove from Basket"}),s&&Object(_.jsx)("p",{className:G.a.load,children:"loading..."})]})]})},R=function(e){var t=Object(c.c)((function(e){return e.item.items}));return Object(_.jsxs)("div",{className:D.a["big-container"],children:[Object(_.jsx)("div",{className:D.a.img,children:Object(_.jsx)("img",{className:D.a.ad,src:"https://images-na.ssl-images-amazon.com/images/G/01/credit/img16/CCMP/newstorefront/YACC-desktop-nonprime-banner3.png",alt:""})}),Object(_.jsxs)("div",{className:D.a.container,children:[Object(_.jsxs)("div",{className:D.a["left-container"],children:[Object(_.jsx)("div",{className:D.a["shopping-basket"],children:Object(_.jsxs)("h2",{children:["Your shopping basket ",0===t.length&&"is empty"," "]})}),Object(_.jsx)("div",{className:D.a.products,children:0===t.length?Object(_.jsx)("p",{className:D.a.error,children:"Please add something to your basket"}):t.map((function(e){return Object(_.jsx)(J,{amount:e.amount,image:e.image,quantity:e.quantity,title:e.title,star:e.star,id:e.id},e.id)}))})]}),Object(_.jsxs)("div",{className:D.a["right-container"],children:[Object(_.jsx)("h2",{children:"Proceed:"}),Object(_.jsx)(z,{status:t.length})]})]})]})},M=a(12),V=a.n(M),Y=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),s=a[0],r=a[1],i=Object(n.useState)(""),l=Object(o.a)(i,2),d=l[0],j=l[1],m=Object(n.useState)(!1),u=Object(o.a)(m,2),b=u[0],p=u[1],O=Object(n.useState)(!1),g=Object(o.a)(O,2),f=g[0],N=g[1],v=Object(n.useState)(""),y=Object(o.a)(v,2),k=y[0],C=y[1],P=Object(c.b)(),H=Object(h.f)(),E="",A="",L="";"INVALID_EMAIL"===k?E="*email is invalid":k.includes("WEAK_PASSWORD")?A="*password must be 7 characters long":k.includes("TOO_MANY_ATTEMPTS_TRY_LATER")?L="*to many attemps, try later":"*please enter your email"===k?E=k:"*please enter your password"===k?A=k:L=k;var I=function(){var e=Object(w.a)(S.a.mark((function e(t,a){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,fetch("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAEz2WJY4IGu6NAJqF50F-natVacz_Eyqo",{method:"POST",body:JSON.stringify({email:t,password:a,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}});case 3:(n=e.sent).ok?(C(""),n.json().then((function(e){P(x.loginHandler({token:e.idtoken,username:t}))})),T()):n.json().then((function(e){C(e.error.message)})),N(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),F=function(){var e=Object(w.a)(S.a.mark((function e(t,a){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,fetch("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAEz2WJY4IGu6NAJqF50F-natVacz_Eyqo",{method:"POST",body:JSON.stringify({email:t,password:a,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}});case 3:if(!(n=e.sent).ok){e.next=9;break}C(""),n.json().then((function(e){P(x.loginHandler({token:e.idtoken,username:t}))})),e.next=12;break;case 9:return n.json().then((function(e){C(e.error.message),console.log(e.error.message)})),N(!1),e.abrupt("return");case 12:T(),N(!1);case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),T=function(){k||(localStorage.setItem("email",s),localStorage.setItem("status","1"),H.replace("/"))};return Object(_.jsxs)("div",{className:V.a["big-container"],children:[Object(_.jsx)("div",{className:V.a.header,children:Object(_.jsx)("img",{src:"https://games.mxdwn.com/wp-content/uploads/2016/12/amazon.png",alt:""})}),Object(_.jsxs)("form",{className:V.a.container,children:[Object(_.jsx)("h2",{children:b?"Sign up":"Sign in"}),Object(_.jsxs)("div",{className:V.a.input,children:[Object(_.jsx)("label",{htmlFor:"email",children:"Email"}),Object(_.jsx)("input",{type:"email",name:"",className:E?V.a.Invalid:V.a.valid,onChange:function(e){r(e.target.value)}}),E&&Object(_.jsx)("p",{className:V.a["error-text"],children:E})]}),Object(_.jsxs)("div",{className:V.a.input,children:[Object(_.jsx)("label",{htmlFor:"password",children:"password"}),Object(_.jsx)("input",{type:"password",name:"",className:A?V.a.Invalid:V.a.valid,onChange:function(e){j(e.target.value)}}),A&&Object(_.jsx)("p",{className:V.a["error-text"],children:A})]}),f?Object(_.jsx)("div",{className:"center",children:Object(_.jsx)("img",{src:"https://www.freeiconspng.com/uploads/load-icon-png-27.png",className:"Loading"})}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("button",{className:V.a.login,onClick:function(e){e.preventDefault();var t=s.trim().includes("@"),a=d.trim().length>7;s?d?t||a?b?I(s,d):F(s,d):C("*Email or Password is InValid"):C("*please enter your password"):C("*please enter your email")},children:b?"Sign up":"Sign in"}),L&&Object(_.jsx)("p",{className:V.a["error-text"],children:L})]}),Object(_.jsxs)("p",{children:["By signing-",b?"up":"in"," you agree to the AMAZON FAKE CLONE conditions of Use & Sale . Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice"]}),Object(_.jsx)("button",{className:V.a.register,onClick:function(e){e.preventDefault(),p((function(e){return!e}))},children:b?"Sign in with your own Account":"Create your own Account"})]})]})},Q=a(13),X=a.n(Q),K=a(25),U=a(51),Z=a.n(U).a.create({baseURL:"http://localhost:5001/clone-8e97f/us-central1/api"}),$=function(){var e=Object(c.c)((function(e){return e.item.items})),t=Object(c.c)((function(e){return e.item.totalPrice})),a=Object(h.f)();console.log(e),0===e.length&&a.replace("/");var r=Object(n.useState)(null),i=Object(o.a)(r,2),l=(i[0],i[1]),d=Object(n.useState)(!0),j=Object(o.a)(d,2),m=j[0],u=j[1],b=Object(n.useState)(""),p=Object(o.a)(b,2),O=p[0],x=p[1],g=Object(n.useState)(!1),f=Object(o.a)(g,2),N=f[0],v=f[1],y=Object(n.useState)(""),k=Object(o.a)(y,2),C=k[0],P=k[1];Object(n.useEffect)((function(){(function(){var e=Object(w.a)(S.a.mark((function e(){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z({method:"post",url:"/payments/create?total=".concat(100*t)});case 2:a=e.sent,P(a.data.clientSecret);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),console.log("THE SECRET IS >>>>",C);var H=function(){for(var a in e)fetch("https://clone-8e97f-default-rtdb.firebaseio.com/orders.json",{method:"POST",body:JSON.stringify({amount:e[a].amount,id:e[a].id,image:e[a].image,quantity:e[a].quantity,star:e[a].star,title:e[a].title})}).then();fetch("https://clone-8e97f-default-rtdb.firebaseio.com/total.json",{method:"POST",body:JSON.stringify(t)})},E=function(){var e=Object(w.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),x(!0),e.next=4,A.confirmCardPayment(C,{payment_method:{card:L.getElement(K.CardElement)}}).then((function(e){e.paymentIntent;H(),v(!0),l(null),x(!1),a.replace("/orders")}));case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=Object(K.useStripe)(),L=Object(K.useElements)();return Object(_.jsx)(s.a.Fragment,{children:Object(_.jsxs)("div",{className:X.a.payment,children:[Object(_.jsx)("h1",{children:"Checkout"}),Object(_.jsxs)("div",{className:X.a["payment-container"],children:[Object(_.jsxs)("div",{className:X.a["payment-section"],children:[Object(_.jsx)("div",{className:X.a["payment-title"],children:Object(_.jsx)("h3",{children:"Delivery address"})}),Object(_.jsxs)("div",{className:X.a.address,children:[Object(_.jsx)("p",{children:localStorage.getItem("email")}),Object(_.jsx)("p",{children:"wz-4855,Tilak Nagar"}),Object(_.jsx)("p",{children:"Delhi,India"})]})]}),Object(_.jsxs)("div",{className:X.a["payment-section"],children:[Object(_.jsx)("div",{className:X.a["items-title"],children:Object(_.jsx)("h3",{children:"Review items and delivery"})}),Object(_.jsx)("div",{className:X.a["payment-items"],children:0!==e.length&&e.map((function(e){return Object(_.jsx)(J,{amount:e.amount,image:e.image,quantity:e.quantity,title:e.title,star:e.star,id:e.id},e.id)}))})]}),Object(_.jsxs)("div",{className:X.a["payment-section"],children:[Object(_.jsx)("div",{className:X.a["payment-title"],children:Object(_.jsx)("h3",{children:"Payment Method"})}),Object(_.jsx)("div",{className:X.a["payment-details"],children:Object(_.jsxs)("form",{onSubmit:E,children:[Object(_.jsx)(K.CardElement,{onChange:function(e){u(e.empty),l(e.error?e.error.message:"")}}),Object(_.jsxs)("div",{className:X.a["payment-price-container"],children:["Order Total: $",t.toFixed(2)]}),Object(_.jsx)("button",{disabled:O||m||N,className:X.a["checkout-button"],children:Object(_.jsx)("span",{children:O?Object(_.jsx)("p",{children:"Processing"}):"Buy Now"})})]})})]})]})]})})},ee=a(52),te=a(36),ae=a.n(te),ne=a(10),se=a.n(ne),ce=function(e){var t=e.amount,a=e.image,n=e.quantity,s=e.star,c=e.title,r=(e.id,Object(_.jsx)("p",{className:se.a.star,children:"\u2b50"}));return 3===s?r=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("p",{className:se.a.star,children:"\u2b50"}),Object(_.jsx)("p",{className:se.a.star,children:"\u2b50"}),Object(_.jsx)("p",{className:se.a.star,children:"\u2b50"})]}):4===s?r=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("p",{className:se.a.star,children:"\u2b50"}),Object(_.jsx)("p",{className:se.a.star,children:"\u2b50"}),Object(_.jsx)("p",{className:se.a.star,children:"\u2b50"}),Object(_.jsx)("p",{className:se.a.star,children:"\u2b50"})]}):5===s&&(r=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("p",{className:se.a.star,children:"\u2b50"}),Object(_.jsx)("p",{className:se.a.star,children:"\u2b50"}),Object(_.jsx)("p",{className:se.a.star,children:"\u2b50"}),Object(_.jsx)("p",{className:se.a.star,children:"\u2b50"}),Object(_.jsx)("p",{className:se.a.star,children:"\u2b50"})]})),Object(_.jsxs)("div",{className:se.a.container,children:[Object(_.jsx)("div",{className:se.a.img,children:Object(_.jsx)("img",{src:a,alt:""})}),Object(_.jsxs)("div",{className:se.a.info,children:[Object(_.jsx)("strong",{children:c}),Object(_.jsxs)("p",{children:[t,"$"]}),Object(_.jsx)("div",{className:se.a.star,children:r}),Object(_.jsxs)("strong",{children:["x",n]})]})]})},re=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1];return console.log(a),Object(n.useEffect)((function(){(function(){var e=Object(w.a)(S.a.mark((function e(){var t,a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://clone-8e97f-default-rtdb.firebaseio.com/orders.json");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=Object.values(a),s(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(_.jsxs)("div",{className:ae.a.orders,children:[Object(_.jsx)("h2",{className:"center",children:"Your Current Order"}),a.map((function(e){return Object(_.jsx)(ce,{amount:e.amount,image:e.image,quantity:e.quantity,title:e.title,star:e.star,id:e.id},e.id)})),Object(_.jsx)("p",{className:ae.a.details})]})},ie=Object(ee.a)("pk_test_51J8OruSAJSO5Ac0I7wRusrFqDkFlubTKFZm8B2jodKpomd0rCO6a8xp60zdwjt5XVPjjWlFORxsD9030AHV3Zcb300BiHPoXfF");var oe=function(){var e=Object(c.b)(),t=Object(n.useCallback)((function(){e(E.clearHandler()),fetch("https://clone-8e97f-default-rtdb.firebaseio.com/items.json").then((function(e){return e.json()})).then((function(t){var a=[],n=Object.values(t);for(var s in n){var c=Object.values(n[s]);for(var r in c){var i={amount:c[r].amount,id:c[r].id,image:c[r].image,quantity:c[r].quantity,star:c[r].star,title:c[r].title};a.push(i),e(E.addHandler(i))}}}))}),[e]);return Object(n.useEffect)((function(){t()}),[t]),Object(_.jsx)(n.Fragment,{children:Object(_.jsxs)(h.c,{children:[Object(_.jsxs)(h.a,{path:"/",exact:!0,children:[Object(_.jsx)(N,{}),Object(_.jsx)(F,{})]}),!localStorage.getItem("status")&&Object(_.jsx)(h.a,{path:"/login",children:Object(_.jsx)(Y,{})}),Object(_.jsxs)(h.a,{path:"/basket",exact:!0,children:[Object(_.jsx)(N,{}),Object(_.jsx)(R,{})]}),Object(_.jsxs)(h.a,{path:"/orders",children:[Object(_.jsx)(N,{}),Object(_.jsx)(re,{})]}),Object(_.jsxs)(h.a,{path:"/basket/checkout",children:[Object(_.jsx)(N,{}),Object(_.jsx)(K.Elements,{stripe:ie,children:Object(_.jsx)($,{})})]}),Object(_.jsx)(h.a,{path:"*",children:Object(_.jsxs)("div",{className:"error-container",children:[Object(_.jsx)("h1",{children:"404 some error occured"}),Object(_.jsx)("p",{className:"center",children:"(some reason) "})]})})]})})},le=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,102)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))},de=a(28),je=Object(p.a)({reducer:{item:A.reducer,auth:g.reducer}});i.a.render(Object(_.jsx)(de.a,{children:Object(_.jsx)(c.a,{store:je,children:Object(_.jsx)(s.a.StrictMode,{children:Object(_.jsx)(oe,{})})})}),document.getElementById("root")),le()}},[[90,1,2]]]);
//# sourceMappingURL=main.a548173c.chunk.js.map